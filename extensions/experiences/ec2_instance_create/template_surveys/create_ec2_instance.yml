---
name: Create EC2 Instance Survey
description: Survey to configure the EC2 creation experience
spec:
  - type: text
    question_name: AWS Region
    question_description: Name of AWS region to create instance in
    variable: ec2_instance_create_aws_region
    required: true

  - type: text
    question_name: Instance Name
    question_description: Name of EC2 instance
    variable: ec2_instance_create_instance_name:
    required: true

  - type: text
    question_name: Instance Type
    question_description: Type of EC2 instance (e.g., t2.micro, m5.large)
    variable: ec2_instance_create_instance_type
    required: true

  - type: text
    question_name: AMI ID
    question_description: AMI ID for EC2 instance
    variable: ec2_instance_create_ami_id
    required: true

  - type: text
    question_name: Key Pair Name
    question_description: Name of key pair to use for SSH access to the EC2 instance
    variable: ec2_instance_create_key_name
    required: true

  - type: text
    question_name: VPC Subnet ID
    question_description: ID of subnet to launch EC2 instance in
    variable: ec2_instance_create_vpc_subnet_id
    required: true

  - type: multiplechoice
    question_name: Create Elastic IP
    question_description: Whether to create and associate an Elastic IP with the instance
    variable: ec2_instance_create_associate_eip
    choices:
      - true
      - false
    required: false
    default: false

  - type: multiplechoice
    question_name: Create External Security Group
    question_description: Whether to create and associate a security group for external access to the instance
    variable: ec2_instance_create_associate_external_sg
    choices:
      - true
      - false
    required: false
    default: false

  - type: text
    question_name: External Security Group Name
    question_description: Name of the security group for external access to the instance
    variable: ec2_instance_create_external_sg_name
    required: false
    default: ec2_instance_create-default-external-sg

  - type: text
    question_name: External Security Group Description
    question_description: Description of the security group for external access to the instance
    variable: ec2_instance_create_external_sg_description
    required: false
    default: Security group for external access

  - type: multiplechoice
    question_name: Create Internet Gateway
    question_description: Whether to create and attach an internet gateway
    variable: ec2_instance_create_associate_igw
    choices:
      - true
      - false
    required: false
    default: false
